type: charm
name: canonical-cla
title: |
  Canonical CLA service
description: |
  This service manages contributors and organisations who signed Canonical's Contribution Licence Agreement (CLA).
summary: |
  Canonical Contribution Licence Agreement (CLA) Service.
assumes:
  - juju >= 3.1
  - k8s-api
bases:
  - build-on:
      - name: ubuntu
        channel: "22.04"
    run-on:
      - name: ubuntu
        channel: "22.04"

config:
  options:
    server-port:
      default: 8000
      description: Default port on which FastAPI is available
      type: int

containers:
  app:
    resource: app-image
resources:
  app-image:
    type: oci-image
    description: OCI image from the Canonical's private Docker registry
    upstream-source: prod-workplace-eng.docker-registry.canonical.com/canonical-cla
